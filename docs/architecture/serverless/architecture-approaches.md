---
title: 构建方法 - 无服务器应用
description: 介绍如何构建方法来生成基于云的企业应用程序（从 N 层体系结构到无服务器）。
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: 0ab84d1f3425c1fda787756b73fd8315fe6d4231
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/24/2020
ms.locfileid: "91171970"
---
# <a name="architecture-approaches"></a>体系结构方法

了解构建企业应用程序的现有方法有助于澄清无服务器所扮演的角色。 许多方法和模式在许多软件开发过程中都进行了发展，它们都具有自己的优点和缺点。 在许多情况下，终极解决方案可能不涉及确定单一方法，但可能会集成多种方法。 迁移方案通常涉及通过混合方法从一种体系结构方法切换到另一种方法。

本章概述了企业应用程序的逻辑体系结构和物理体系结构模式。

## <a name="architecture-patterns"></a>体系结构模式

现代业务应用程序遵循各种体系结构模式。 本部分提供对常见模式的调查。 此处列出的模式并不一定是所有最佳做法，但阐释了不同的方法。

有关详细信息，请参阅 [Azure 应用程序体系结构指南](/azure/architecture/guide/)。

## <a name="monoliths"></a>整体模式

许多业务应用程序都遵循整体模式。 旧应用程序通常实现为整体模式。 在整体模式下，所有应用程序问题都包含在一个部署中。 从用户界面到数据库调用的所有内容都包含在相同的代码库中。

![整体体系结构](./media/monolith-architecture.png)

整体方法有以下几个优点。 它通常可以轻松地下拉一个基本代码并开始工作。 加速时间可能更少，并且创建测试环境就像提供一个新副本一样简单。 整体模式可设计为包括多个组件和应用程序。

遗憾的是，整体模式往往会大规模分解。 整体方法的主要缺点包括：

- 很难在同一基本代码中并行运行。
- 任何更改（不管是多么简单）都需要部署整个应用程序的新版本。
- 重构可能会影响整个应用程序。
- 通常，唯一的缩放解决方案是创建整体模式的多个资源密集型副本。
- 在获取系统扩展或其他系统时，集成可能会很困难。
- 由于需要配置整个整体模式，因此可能很难测试。
- 代码重用很有挑战性，而其他应用程序最终拥有自己的代码副本。

许多企业都将云视为迁移整体应用程序、同时将其重构为更多可用模式的机会。 通常，分解各个应用程序和组件以允许单独维护、部署和缩放。

## <a name="n-layer-applications"></a>N 层应用程序

N 层应用程序将应用程序逻辑分区到特定的层。 最常见层包括：

- 用户界面
- 业务逻辑
- 数据访问

其他层可能包括中间件、批处理和 API。 请注意，层是合乎逻辑的。 尽管它们是隔离开发的，但它们可能都部署到相同的目标平台。

![N 层体系结构](./media/n-layer-architecture.png)

N 层方法有以下几个优点，包括：

- 重构与层隔离。
- 团队可以独立生成、测试、部署和维护单独的层。
- 层可以换出，例如，数据层可以访问多个数据库，而无需对 UI 层进行更改。

无服务器可用于实现一个或多个层。

## <a name="microservices"></a>微服务

**[微服务](/azure/architecture/guide/architecture-styles/microservices)** 体系结构包含的常见特征包括：

- 应用程序由多个小型服务组成。
- 每个服务都在自己的进程中运行。
- 服务围绕业务领域进行调整。
- 服务通过轻型 API 通信，通常使用 HTTP 作为传输。
- 服务可独立部署和升级。
- 服务不依赖于单个数据存储区。
- 系统设计时考虑到了故障，即使某些服务发生故障，应用程序仍可能运行。

微服务不必与其他体系结构方法互相排斥。 例如，N 层体系结构可以使用微服务作为中间层。 还可以通过多种方式从 IIS 主机上的虚拟目录到容器实现微服务。 微服务的特征使它们特别适用于无服务器实现。

![微服务体系结构](./media/microservices-architecture.png)

微服务体系结构的优点包括：

- 重构通常与单个服务隔离。
- 服务可以彼此独立地升级。
- 可针对单个服务的需求优化复原能力和弹性。
- 开发可以跨不同的团队和平台并行发生。
- 为隔离服务编写综合测试更加轻松。

微服务带来了自己的挑战，包括：

- 确定哪些服务可用，以及如何调用它们。
- 管理服务的生命周期。
- 了解服务在整个应用程序中的配合方式。
- 跨不同服务进行完全系统调用测试。

最终推出解决方案以解决所有这些挑战，包括利用稍后讨论的无服务器的好处。

>[!div class="step-by-step"]
>[上一页](index.md)
>[下一页](architecture-deployment-approaches.md)
